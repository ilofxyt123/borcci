function Switch(number,JTs,hidePanel){this.currentIndex=0;this.currentPanel=this.currentIndex+1;this.$button=$(".point");this.$allInner=$(".inner");this.$allPanel=$(".panel");this.$buttonNext=$("#next");this.$buttonPrev=$("#prev");this.number=number?number:this.$allInner.length;this.JTs=JTs;this.callbacks={};hidePanel=hidePanel?hidePanel:[4,5];this.hidePanel=hidePanel;this.bindEvent()}Switch.prototype={switchTab:function(index){this.currentPanel=index;this.currentIndex=index-1;this.$allInner.hide();$("#point"+index).children(".inner").show();this.$allPanel.hide();$("#panel"+index).show();if(this.callbacks.hasOwnProperty(index)){this.callbacks[index]()}var needShow=true;for(var i=0,il=this.hidePanel.length;i<il;i++){if(this.hidePanel[i]==index){needShow=false}}if(needShow){$("canvas").css({opacity:1})}if(this.JTs.length>=index){this.JTs[index-1]()}},next:function(){},prev:function(){},bindEvent:function(){var scope=this;this.$button.on("mouseup",function(e){var index=e.currentTarget.dataset["index"];index=Number(index);scope.switchTab(index)});this.$buttonNext.on("mouseup",function(){if(scope.currentPanel==scope.number){return}var index=Number(scope.currentPanel)+1;scope.switchTab(index)});this.$buttonPrev.on("mouseup",function(){if(scope.currentPanel==1){return}var index=Number(scope.currentPanel)-1;scope.switchTab(index)})}};