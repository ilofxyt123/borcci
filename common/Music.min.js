function Music(option){var config={AudioID:"",buttonClass:"",buttonAnimateClass:""};$.extend(config,option);this.audio=document.getElementById(config.AudioID);this.$button=$(config.buttonClass);this.buttonAnimateClass=config.buttonAnimateClass;this.audio;this.isPlay=false;this.$button;this.buttonAnimateClass="";this.haveInit=false;this.init();this.bindEvent()}Music.prototype={init:function(){var scope=this;if(Music.isWeiXin){if("WeixinJSBridgeReady"in window){document.addEventListener("WeixinJSBridgeReady",function(){scope.audio.load();scope.haveInit=true},false)}else{}}else{}},play:function(){var scope=this;if(Music.isWeiXin){if(window["WeixinJSBridge"]){WeixinJSBridge.invoke("getNetworkType",{},function(){scope.audio.play();scope.$button.addClass(scope.buttonAnimateClass);scope.isPlay=true})}else{var c=setInterval(function(){if(window["WeixinJSBridge"]){WeixinJSBridge.invoke("getNetworkType",{},function(){scope.audio.play();scope.$button.addClass(scope.buttonAnimateClass);scope.isPlay=true});clearInterval(c)}},50)}}else{try{PALifeOpen.getDeviceID(function(){scope.audio.play();scope.$button.addClass(scope.buttonAnimateClass);scope.isPlay=true},function(err){})}catch(e){scope.audio.play();scope.$button.addClass(scope.buttonAnimateClass);scope.isPlay=true}}},replay:function(){this.audio.currentTime=0;this.play()},pause:function(){this.audio.pause();this.$button.removeClass(this.buttonAnimateClass);this.isPlay=false},bindEvent:function(){this.$button.on("touchend",function(){if(this.isPlay){this.pause()}else{this.play()}})}};Music.isWeiXin=function(){var ua=navigator.userAgent;var result=ua.match(/MicroMessenger/i);return result}();